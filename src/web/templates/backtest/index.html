{% extends "base.html" %}
{% block title %}Backtest - Stock Analysis{% endblock %}

{% block content %}
<h1>Technical Backtest</h1>

<div class="card">
    <h2>Configure Backtest</h2>
    {% if data_start and data_end %}
    <p class="text-muted">Available data: {{ data_start }} to {{ data_end }}</p>
    {% endif %}

    <form method="post" action="/backtest/run">
        <div class="form-row-2">
            <div class="form-group">
                <label for="start">Start Date</label>
                <input type="date" id="start" name="start" class="form-input"
                       {% if data_start %}value="{{ data_start }}"{% endif %}>
                <p class="form-help">Default: 12 months before end. Needs 1yr lookback for indicators.</p>
            </div>
            <div class="form-group">
                <label for="end">End Date</label>
                <input type="date" id="end" name="end" class="form-input"
                       {% if data_end %}value="{{ data_end }}"{% endif %}>
                <p class="form-help">Default: latest data minus 1 month (for forward returns).</p>
            </div>
        </div>
        <button type="submit" class="btn btn-primary">Run Backtest</button>
    </form>
</div>

<div class="card">
    <h2>Previous Reports</h2>
    <a href="/backtest/report" class="btn btn-secondary">View Latest Report</a>
</div>
{% endblock %}
